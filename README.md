<img width="800" alt="переговорки" src="https://user-images.githubusercontent.com/30614068/35501411-de6818cc-04ea-11e8-8a1e-5a594e4be443.png">

# ШРИ 2018. Задание №3: JavaScript.

Третье задание тут. Два других: **[Задание №1](https://github.com/griashiro/shri2018/tree/task1)**, **[Задание №2](https://github.com/griashiro/shri2018/tree/task2)**, в отдельных ветках в этом же репозитории.

## Сборка

Сперва запустим локально бэкенд из Задания №1:
    
    git clone -b task1 https://github.com/griashiro/shri2018 task1
    cd task1 && npm i && npm run reset-db && npm run dev

Теперь в отдельной вкладке терминала склонируем фронтенд, выполним сборку и запуск:

    git clone -b task3 https://github.com/griashiro/shri2018 task3
    cd task3 && npm i && npm run dev

Вариант сборки для продакшена:
    
    npm run build

Запуск тестов:

    npm run test

Запуск ESLint:

    npm run lint

## Инструменты

![инструменты](https://user-images.githubusercontent.com/30614068/35515914-74219516-051b-11e8-9cb0-5def0e6be606.png)

React, Redux и PostCSS. Jest для тестов. Сборка через Webpack, использую Babel и ESLint. 

Для общения с API - [Apollo Fetch](https://github.com/apollographql/apollo-fetch).

## Структура проекта

Использую стандартную структура React/Redux, но без разделения на компоненты и контейнеры. `ActionTypes.js` перенес из папки `redux` к другим константам. Стили держу отдельно от компонентов в `styles`.

Доступны два варианта сборки: разработка и продакшен.

Разработки использует локальный сервер с Hot Module Replacement.

Продакшен - `HtmlWebpackPlugin` для `index.html`, `UglifyJsPlugin` для уменьшения размера бандла и `CommonsChunkPlugin` для оптимизации загрузок на клиенте. Есть возможность включить gzip через `CompressionWebpackPlugin`, если хостинг не поддерживает сжатие статики по умолчанию.

## Особенности

- Cпиннер, чтобы внести интерактивность во время запроса к API.
- Страница с ошибкой, если запрос к серверу завершился неудачей. Помимо информации о том, что произошла ошика, содержит подсказку для пользователя о том, что можно предпринять дальше.
- Анимации и переходы для элементов интерфейса.
- Валидация и автодополнение даты и времени.
- Автофокус на первое поле ввода и автопереход между заполненными формами, чтобы сэкономить клики пользователя и улучшить user experience.
- Встречи кратны 30-ти минутам. Начало дня в 8:00, окончание - 0:00.
- Добавил отдельный уровень логики - `Arranger.jsx`, который организует данные с сервера в удобные структуры для дальнейшего использования.
- Делегирую ряд событий отдельному слою логики в `Handler.jsx`.

## Выводы

### Что сделано хорошо?

Удобная инфраструктура для разработки, преимущества React/Redux, улучшения пользовательского интерфейса: спиннер, анимации, автоматические переходы.

### Что можно сделать еще лучше?

Яндекс Переговорки - мой первый самостоятельный проект на React/Redux, поэтому я делал ошибки и учился в процессе. 

Сейчас приложение представляем минимальный жизнеспособный продукт. Чтобы его улучшить мне необходимо:

- Прокачать знания React и Redux, чтобы улучшить архитектуру приложения.
- Покрыть все компоненты тестами.
- Сделать рефакторинг кода.

Было бы неплохо перенести проект на TypeScript и кроме того:

- Добавить пагинацию по датам.
- Поиск пользователей и механизм рекомендаций вынести на бэкенд.
- Улучшить алгоритм подбора рекомендаций.
- Проводить периодический опрос сервера, чтобы обновлять изменения от других пользователей.
- Подключить отдельную библиотеку для валидации форм, например [redux-form](https://redux-form.com/).
